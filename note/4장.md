# 4장 - 프로그램 흐름의 제어

## 조건문

- `if`, `if ~ else` 문

```text
if (조건식) {
    수행할 문장 
}
```

```text
if (조건식) {
    수행할 문장
} else {
    수행할 문장
}
```

```kotlin
val max = a
if (a < b)
    max = b // 수행할 문장이 한 줄이면 중괄호 생략 가능
```

- `if ~ else` 문의 간략화

```kotlin
var max: Int
if (a > b)
    max = a
else
    max = b
```

```kotlin
val max = if (a > b) a else b
```

- 조건식의 표현식 사용해 보기

```kotlin
fun main() {
    val a = 12
    val b = 7

    val max = if (a > b) {
        println("a 선택")
        a // 마지막 식인 a 가 반환되어 max 에 할당
    } else {
        println("b 선택")
        b
    }

    println(max)
}
```

- `else if` 는 필요한 만큼 조합할 수 있음
    - 마지막은 `else` 로 구성

```kotlin
val number = 0
val result = if (number > 0)
    "양수 값"
else if (number < 0)
    "음수값"
else
    "0"
```

- `else if` 를 사용한 등급 판별

```kotlin
fun main() {
    println("Enter the score: ")
    val score = readLine()!!.toDouble()
    var grade: Char = 'F'

    if (score > 90.0) {
        grade = 'A'
    } else if (score >= 80.0 && score <= 89.9) {
        grade = 'B'
    } else if (score >= 70.0 && score <= 79.9) {
        grade = 'C'
    }

    println("Score: $score, Grade: $grade")
}
```

### in 연산자와 범위 연산자로 조건식 간략하게 만들기

- 비교 연산자와 논리 연산자의 복합
    - 비교 연산자(`>=`, `<=`) 와 논리곱 연산자(`&&`) 사용
- 범위(Range) 연산자
    - 변수명 `in` 시작값..마지막값
    - score `in` 80..90 => score 범위가 80부터 89까지

### `when` 문 으로 다양한 조건 처리

- 인자를 사용하는 `when` 문

```text
when (인자) {
    인자에 일치하는 값 혹은 표현식 -> 수행할 문장
    인자에 일치하는 범위 -> 수행할 문장
    ...
    else -> 문장
}
```

```kotlin
when (x) {
    1 -> print("x == 1")
    2 -> print("x == 2")
    else -> { // 블록 구문 사용 가능
        print("x 는 1, 2가 아닙니다.")
    }
}
```

#### 인자를 사용하는 `when` 문

- 일치되는 여러 조건

```kotlin
when (x) {
    0, 1 -> print("x == 0 or x == 1")
    else -> print("기타")
}
```

- 함수의 반환값 사용하기

```kotlin
when (x) {
    parseInt(s) -> print("일치함")
    else -> print("기타")
}
```

- `in` 연산자와 범위 지정자 사용

```kotlin
when (x) {
    in 1..10 -> print("x 는 1 이상 10 이하입니다.")
    !in 10..20 -> print("x 는 10 이상 20 이하의 범위에 포함되지 않습니다.")
    else -> print("x 는 어떤 범위에도 없습니다.")
}
```

- `is` 키워드와 함께 사용하기

```kotlin
val str = "안녕하세요."
val result = when (x) {
    is String -> "문자열입니다."
    else -> false
}
```

- `when` 문을 이용한 점수 등급 구하기

```kotlin
fun main() {
    print("Enter the score: ")
    val score = readLine()!!.toDouble()
    var grade: Char = 'F'

    when (score) {
        in 90.0..100.0 -> grade = 'A'
        in 80.0..89.9 -> grade = 'B'
        in 70.0..79.9 -> grade = 'C'
        !in 70.0..100.0 -> grade = 'F'
    }

    println("Score: $score, Grade: $grade")
}
```

- 인자가 없는 `when`
    - 특정 인자에 제한하지 않고 다양한 조건을 구성

```text
when {
    조건[혹은 표현식] -> 실행문
    ...
}
```

- 인자가 없는 when 문 사용하기

```kotlin
fun main() {
    print("Enter the score: ")
    val score = readLine()!!.toDouble()
    var grade: Char = 'F'

    when {
        score >= 90.0 -> grade = 'A' // 인자 있는 when 과 다르게 조건식을 구성할 수 있음
        score in 80.0..89.9 -> grade = 'B'
        score in 70.0..79.9 -> grade = 'C'
        score < 70.0 -> grade = 'F'
    }

    println("Score: $score, Grade: $grade")
}
```

- 다양한 자료형의 인자 받기

```kotlin
class MyClass

fun main() {
    cases("Hello")
    cases(1)
    cases(System.currentTimeMillis())
    cases(MyClass())
}

fun cases(obj: Any) {
    when (obj) {
        1 -> println("Int: $obj")
        "Hello" -> println("String: $obj")
        is Long -> println("Long: $obj")
        !is String -> println("Not a String")
        else -> println("unknown")
    }
}
```